{% extends('base.html.twig') %}

{% block content %}
    <br />
    <a class="somda-button" href="{{ path('forum_search') }}" title="{{ 'forum.search' | trans }}">{{ 'forum.search' | trans }}</a>
    {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
        <a class="somda-button" href="{{ path('forum_mark_read') }}" title="{{ 'forum.mark.all' | trans }}">{{ 'forum.mark.all' | trans }}</a>
        <a class="somda-button" href="{{ path('forum_unread') }}" title="{{ 'forum.unread' | trans }}">{{ 'forum.unread' | trans }}</a>
    {% endif %}

    <br /><br />

    <table class="design">
        <tr><th colspan="2">{{ 'forum.category' | trans }}</th><th>{{ 'forum.number.discussions' | trans }}</th></tr>
        {% for category in categories %}
            <tr><th colspan="3">{{ category['category'].name }}</th></tr>
            {% for forum in category['forums'] %}
                <tr>
                    <td><i class="fas fa-comments"></i></td>
                    <td><a href="{{ path('forum_forum', { 'id': forum['id'], 'name': forum['name'] }) }}">{{ forum['name'] }}</a></td>
                    <td>{{ forum['numberOfDiscussions'] }}</td>
                </tr>
            {% endfor %}
        {% endfor %}
    </table>
{% endblock %}
